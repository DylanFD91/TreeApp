
@{
    ViewData["Title"] = "View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Physis.Models.GoogleMapsViewModel

<h1>Tree Planting Map</h1>

<div id="GoogleMap" style="width: 700px; height: 500px">

</div>

<script>
    
  // Initialize and add the map
function initMap() {
  // The location of Uluru
  var uluru = {lat: @Model.TreePlanter.Address.Latitude, lng: @Model.TreePlanter.Address.Longitude};
  // The map, centered at Uluru
  var map = new google.maps.Map(
      document.getElementById('GoogleMap'), {zoom: 8, center: uluru});

    @for (var i = 0; i < Model.Trees.Count; i++) {
        <text>
             var marker = new google.maps.Marker({ position: new google.maps.LatLng(@Model.Trees[i].Address.Latitude, @Model.Trees[i].Address.Longitude), map: map })
        </text>
     }
}
</script>

<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=@ApiKeys.GoogleMapsApi&callback=initMap">
</script>